(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{14:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(7),j=c.n(s),i=c(2),o=c(0);function l(e){var t=e.data,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],j=r[1],l=Object(n.useRef)(),a=Object(n.useRef)(),b=Object(n.useState)(""),u=Object(i.a)(b,2),d=u[0],h=u[1];return s?Object(o.jsx)("p",{children:"loading..."}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{children:"Login"}),Object(o.jsxs)("form",{children:[Object(o.jsx)("label",{children:"E-mail: "}),Object(o.jsx)("input",{type:"email",ref:l}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Password: "}),Object(o.jsx)("input",{type:"password",ref:a}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:d}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var c=l.current.value,n=a.current.value;""!==c&&""!==n?(l.current.value="",a.current.value="",j(!0),fetch("http://localhost:8080/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,password:n})}).then((function(e){200===e.status?e.json().then((function(e){t((function(t){return"admin"===c?{changer:"admin",customer:e.name,customerId:e.id}:{changer:"customer",customer:e.name,customerId:e.id}}))})):h("Incorrect password or email")})).then((function(){return j(!1)})).catch((function(e){h("there is error"),console.log(e)}))):h("One or more field is empty")},children:"Login"})]})]})}function a(e){e.setWhichForm;var t=Object(n.useState)(!1),c=Object(i.a)(t,2),r=c[0],s=c[1],j=Object(n.useRef)(),l=Object(n.useRef)(),a=Object(n.useRef)(),b=Object(n.useRef)(),u=Object(n.useRef)(),d=Object(n.useState)(""),h=Object(i.a)(d,2),O=h[0],x=h[1];return!0===r?Object(o.jsx)("p",{children:"loading..."}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{children:"SignUp"}),Object(o.jsxs)("form",{children:[Object(o.jsx)("label",{children:"Full Name: "}),Object(o.jsx)("input",{type:"text",ref:b}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"E-mail: "}),Object(o.jsx)("input",{type:"email",ref:j}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Password: "}),Object(o.jsx)("input",{type:"password",ref:l}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Confirm Password: "}),Object(o.jsx)("input",{type:"password",ref:a}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Phone Number: "}),Object(o.jsx)("input",{type:"number",ref:u}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:O}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var t=j.current.value,c=l.current.value,n=a.current.value,r=b.current.value,i=u.current.value;c===n&&""!==t&&""!==c&&""!==r&&""!==i?(j.current.value="",l.current.value="",a.current.value="",b.current.value="",u.current.value="",s(!0),fetch("http://localhost:8080/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:t,phone:i,password:c})}).then((function(e){200===e.status?x("Successfully Registered"):x("autherntication error(change your email or password)")})).then((function(){return s(!1)})).catch((function(e){x("there is error"),console.log(e)}))):x("Password doesn't match")},children:"Register"})]})]})}function b(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useRef)(),j=Object(n.useRef)(),l=Object(n.useState)(""),a=Object(i.a)(l,2),b=a[0],u=a[1];return c?Object(o.jsx)("p",{children:"loading..."}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{children:"Forget Password"}),Object(o.jsxs)("form",{children:[Object(o.jsx)("label",{children:"E-mail: "}),Object(o.jsx)("input",{type:"email",ref:s}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Phone Number: "}),Object(o.jsx)("input",{type:"number",ref:j}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:b}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault();var t=s.current.value,c=j.current.value;""!==t.trim()&&""!==c.trim()?(s.current.value="",j.current.value="",r(!0),fetch("http://localhost:8080/forgetpassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:c})}).then((function(e){200===e.status?e.json().then((function(e){u("your password is : "+e.password)})):u("autherntication error(change your email or password)")})).then((function(){return r(!1)})).catch((function(e){u("there is error"),console.log(e)}))):u("one or more field are empty")},children:"Get Password"})]})]})}function u(){var e=Object(n.useRef)(),t=Object(n.useRef)(),c=Object(n.useRef)(),r=Object(n.useState)(""),s=Object(i.a)(r,2),j=s[0],l=s[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{children:"Contact Us"}),Object(o.jsxs)("form",{children:[Object(o.jsx)("label",{children:"Full Name: "}),Object(o.jsx)("input",{type:"text",ref:t}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"E-mail: "}),Object(o.jsx)("input",{type:"email",ref:e}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Comment: "}),Object(o.jsx)("input",{type:"text",ref:c}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:j}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{type:"submit",onClick:function(n){n.preventDefault();var r=e.current.value,s=t.current.value,j=c.current.value;""!==r&&""!==s&&""!==j||l("one or more field is empty"),console.log(r+s+j),e.current.value="",t.current.value="",c.current.value="",l("your comment has been sent to the developers! TanQ")},children:"Send"})]})]})}function d(){return Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"About is anything can be added handleForget"})})}function h(e){var t=e.data,c=Object(n.useState)("login"),r=Object(i.a)(c,2),s=r[0],j=r[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Health Insurance Managment System"}),Object(o.jsx)("button",{onClick:function(){return j("signup")},children:"SignUp"}),Object(o.jsx)("button",{onClick:function(){return j("forget")},children:"Forget Password"}),Object(o.jsx)("button",{onClick:function(){return j("login")},children:"Login"}),"login"===s?Object(o.jsx)(l,{data:t}):"signup"===s?Object(o.jsx)(a,{data:j}):Object(o.jsx)(b,{}),Object(o.jsx)(u,{}),Object(o.jsx)(d,{})]})}function O(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(),j=Object(i.a)(s,2),l=j[0],a=j[1],b=Object(n.useState)(1),u=Object(i.a)(b,2),d=u[0],h=u[1],O=localStorage.getItem("customerId");Object(n.useEffect)((function(){var e=!0;return fetch("http://localhost:8080/customer/available").then((function(e){return e.json()})).then((function(t){e&&a(t)})).then((function(){return h(3)})).catch((function(e){h(2),console.log(e)})),function(){e=!1}}));var x=function(e){var t=e.target.name;r("Appling........"),fetch("http://localhost:8080/customer/".concat(O,"/apply?policy=").concat(t)).then((function(e){200===e.status?r("Policy Applied Successfully"):r("Policy didin't applyed")})).catch((function(e){r("connection error, see console"),console.log(e)}))};return 1===d?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"loading..."})}):2===d?Object(o.jsx)("p",{children:"There is error check console or try other operation"}):3===d?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Available Policies"}),Object(o.jsx)("h4",{color:"red",children:c}),Object(o.jsxs)("table",{border:"border",cellPadding:"9px",cellSpacing:"5px",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Policy Id."}),Object(o.jsx)("th",{children:"Policy Name"}),Object(o.jsx)("th",{children:"Catagory"}),Object(o.jsx)("th",{children:"Premium"}),Object(o.jsx)("th",{children:"Tenure"}),Object(o.jsx)("th",{children:"Apply"})]})}),l.map((function(e,t){return Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.catagory}),Object(o.jsx)("td",{children:e.premium}),Object(o.jsx)("td",{children:e.tenure}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:x,name:e.name,children:"Apply"}),"  "]})]})},t)}))]})]}):void 0}function x(){var e=Object(n.useRef)(),t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],s=c[1],j=Object(n.useState)(!1),l=Object(i.a)(j,2),a=l[0],b=l[1];return a?Object(o.jsx)("p",{children:"Sending pls waite...."}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Ask Admin Question"}),Object(o.jsx)("label",{children:"Question: "}),Object(o.jsx)("input",{ref:e,type:"text"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:r}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(){var t=e.current.value;if(""!==t.trim()){var c=localStorage.getItem("customerId");b(!0),fetch("http://localhost:8080/customer/".concat(c,"/ask?question=").concat(t)).then((function(e){200===e.status?s("Question Sent"):s("Somthing is Wrong")})).then((function(){return b(!1)})).catch(console.log),e.current.value=""}else s("what....")},children:"Send"})]})}function f(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(1),j=Object(i.a)(s,2),l=j[0],a=j[1],b=localStorage.getItem("customerId");return Object(n.useEffect)((function(){var e=!0;return fetch("http://localhost:8080/customer/".concat(b,"/applied")).then((function(e){return e.json()})).then((function(t){e&&r(t)})).then((function(){return a(3)})).catch((function(e){a(2),console.log(e)})),function(){e=!1}})),1===l?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"loading..."})}):2===l?Object(o.jsx)("p",{children:"There is error check console or try other operation"}):3===l?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Applied Policies"}),Object(o.jsxs)("table",{border:"border",cellPadding:"9px",cellSpacing:"5px",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Applied Policy Id."}),Object(o.jsx)("th",{children:"Policy"}),Object(o.jsx)("th",{children:"Status"}),Object(o.jsx)("th",{children:"Applied Date"})]})}),c.map((function(e,t){return Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:e.policy}),Object(o.jsx)("td",{children:e.status}),Object(o.jsx)("td",{children:e.date})]})},t)}))]})]}):void 0}function p(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(),j=Object(i.a)(s,2),l=j[0],a=j[1],b=Object(n.useState)(1),u=Object(i.a)(b,2),d=u[0],h=u[1],O=Object(n.useState)(),x=Object(i.a)(O,2),f=x[0],p=x[1];Object(n.useEffect)((function(){var e=!0;return fetch("http://localhost:8080/customer/catagory").then((function(e){return e.json()})).then((function(t){e&&a(t)})).then((function(){return h(3)})).catch((function(e){h(2),console.log(e)})),function(){e=!1}}));var m=function(e){var t=e.target.name;p(l[t]),r(!0)};return 1===d?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"loading..."})}):2===d?Object(o.jsx)("p",{children:"There is error check console or try other operation"}):3===d?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Policies Catagory"}),l.map((function(e,t){return Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:m,name:t,children:e.name},t),Object(o.jsx)("br",{}),Object(o.jsx)("br",{})]},t)})),function(){if(c)return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h1",{children:["Policy : ",f.name]}),Object(o.jsxs)("h3",{children:["Price : ",f.price," Birr"]}),Object(o.jsxs)("h3",{children:["Duration : ",f.duration," month"]}),Object(o.jsxs)("h3",{children:["Description : ",f.description]})]})}()]}):void 0}function m(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(1),j=Object(i.a)(s,2),l=j[0],a=j[1],b=localStorage.getItem("customerId");return Object(n.useEffect)((function(){var e=!0;return fetch("http://localhost:8080/customer/".concat(b,"/questions")).then((function(e){return e.json()})).then((function(t){e&&r(t)})).then((function(){return a(3)})).catch((function(e){a(2),console.log(e)})),function(){e=!1}})),1===l?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"loading..."})}):2===l?Object(o.jsx)("p",{children:"There is error check console or try other operation"}):3===l?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Total Question Asked"}),Object(o.jsxs)("table",{border:"border",cellPadding:"10px",cellSpacing:"9px",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Asked Date"}),Object(o.jsx)("td",{children:"Question Asked"}),Object(o.jsx)("td",{children:"Admin Comment"})]})}),Object(o.jsx)("tbody",{children:c.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.date}),Object(o.jsx)("td",{children:e.question}),Object(o.jsx)("td",{children:e.comment})]},t)}))})]})]}):void 0}function g(e){var t=e.dataleg,c=e.logoutHandler,r=Object(n.useState)(""),s=Object(i.a)(r,2),j=s[0],l=s[1];localStorage.setItem("customerId",t.customerId),localStorage.setItem("customer",t.customer);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Health Insurance Managment System"}),Object(o.jsxs)("h3",{children:[t.customer,"(",t.customerId,")(customer)"]}),Object(o.jsx)("button",{onClick:function(){l("available")},children:"Available Policy"}),Object(o.jsx)("button",{onClick:function(){l("applied")},children:"Applied Policy"}),Object(o.jsx)("button",{onClick:function(){l("policy")},children:"Policy Catagory"}),Object(o.jsx)("button",{onClick:function(){l("total")},children:"Total Question Asked"}),Object(o.jsx)("button",{onClick:function(){l("ask")},children:"Ask Question"}),Object(o.jsx)("button",{onClick:function(){c()},children:"Logout"}),""===j?Object(o.jsx)(o.Fragment,{}):"available"===j?Object(o.jsx)(O,{}):"applied"===j?Object(o.jsx)(f,{}):"policy"===j?Object(o.jsx)(p,{}):"total"===j?Object(o.jsx)(m,{}):Object(o.jsx)(x,{data:t})]})}var v=c(4);function y(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(""),j=Object(i.a)(s,2),l=j[0],a=j[1],b=Object(n.useState)(1),u=Object(i.a)(b,2),d=u[0],h=u[1];Object(n.useEffect)((function(){var e=!0;return fetch("http://localhost:8080/admin/appliedpolicies").then((function(e){return e.json()})).then((function(t){e&&r(t)})).then((function(){return h(3)})).catch((function(e){h(2),console.log(e)})),function(){e=!1}}));var O=function(e){var t=e.target.name;a("deleteing....."),fetch("http://localhost:8080/admin/deleteappliedpolicy?policyid=".concat(t)).then((function(e){200===e.status?a("Operation Successfull"):a("Unsuccuessfull")})).catch((function(e){a("Error see console for more info"),console.log(e)}));var n=c.filter((function(e){return e.id!==t}));r(n)},x=function(e){var t=e.target.name;a("approving....."),fetch("http://localhost:8080/admin/approve?policyid=".concat(t)).then((function(e){200===e.status?a("Operation Successfull"):a("Unsuccuessfull")})).catch((function(e){a("Error see console for more info"),console.log(e)}));var n=c.map((function(e,c){return e.id===t?Object(v.a)(Object(v.a)({},e),{},{status:"Approved"}):e}));r(n)},f=function(e){var t=e.target.name;a("approving....."),fetch("http://localhost:8080/admin/disapprove?policyid=".concat(t)).then((function(e){200===e.status?a("Operation Successfull"):a("Unsuccuessfull")})).catch((function(e){a("Error see console for more info"),console.log(e)}));var n=c.map((function(e,c){return e.id===t?Object(v.a)(Object(v.a)({},e),{},{status:"Disapproved"}):e}));r(n)};return 1===d?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"loading..."})}):2===d?Object(o.jsx)("p",{children:"There is error check console or try other operation"}):3===d?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"All Policies Applied For!"}),Object(o.jsx)("h4",{color:"red",children:l}),Object(o.jsxs)("table",{border:"border",cellPadding:"9px",cellSpacing:"5px",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Date"}),Object(o.jsx)("th",{children:"A.Policy ID."}),Object(o.jsx)("th",{children:"Customer ID"}),Object(o.jsx)("th",{children:"Policy"}),Object(o.jsx)("th",{children:"Status"}),Object(o.jsx)("th",{children:"Approve"}),Object(o.jsx)("th",{children:"Disapprove"}),Object(o.jsx)("th",{children:"Remove"})]})}),Object(o.jsx)("tbody",{children:c.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.date}),Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:e.customer_id}),Object(o.jsx)("td",{children:e.policy}),Object(o.jsx)("td",{children:e.status}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:x,name:e.id,children:"Approve"})}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:f,name:e.id,children:"Disapprove"})}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:O,name:e.id,children:"Delete"})})]},t)}))})]})]}):void 0}function S(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(),j=Object(i.a)(s,2),l=j[0],a=j[1],b=Object(n.useState)(""),u=Object(i.a)(b,2),d=u[0],h=u[1];Object(n.useEffect)((function(){var e=!0;return fetch("http://localhost:8080/admin/customers").then((function(e){return e.json()})).then((function(t){e&&a(t)})).then((function(){return r(3)})).catch((function(e){r(2),console.log(e)})),function(){e=!1}}));var O=function(e){var t=e.target.name;h("...."),fetch("http://localhost:8080/admin/delete?customerid=".concat(t)).then((function(e){200===e.status?h("Operation Successfull"):h("cannot delete")})).catch((function(e){console.log(e),h("there is error check console for more information")}));var c=l.filter((function(e){return e.id!==t}));a(c)};return 1===c?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"loading..."})}):2===c?Object(o.jsx)("p",{children:"There is error check console or try other operation"}):3===c?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"All Customers/USER Registerd To The System"}),Object(o.jsx)("h4",{color:"red",children:d}),Object(o.jsxs)("table",{border:"border",cellSpacing:"12px",cellPadding:"10px",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Email"}),Object(o.jsx)("th",{children:"Phone"}),Object(o.jsx)("th",{children:"Delete"})]})}),Object(o.jsx)("tbody",{children:l.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.fullname}),Object(o.jsx)("td",{children:e.email}),Object(o.jsx)("td",{children:e.phone}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:O,name:e.id,children:"DELETE"})})]},t)}))})]})]}):void 0}function k(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(""),j=Object(i.a)(s,2),l=j[0],a=j[1],b=Object(n.useState)(1),u=Object(i.a)(b,2),d=u[0],h=u[1];Object(n.useEffect)((function(){var e=!0;return fetch("http://localhost:8080/admin/questions").then((function(e){return e.json()})).then((function(t){e&&r(t)})).then((function(){return h(3)})).catch((function(e){h(2),console.log(e)})),function(){e=!1}}));var O=function(e){if("Enter"===e.key){var t=e.target.name,n=e.target.value;if(""!==n.trim()){a("Seending Answer..."),fetch("http://localhost:8080/admin/answer?questionid=".concat(t,"&comment=").concat(n)).then((function(e){200===e.status?a("Operation Successfull"):a("Unsuccuessfull")})).catch((function(e){a("Error see console for more info"),console.log(e)}));var s=c.array.forEach((function(e){return e.id===t&&(e.comment=n),e}));r(s)}}};return 1===d?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"loading..."})}):2===d?Object(o.jsx)("p",{children:"There is error check console or try other operation"}):3===d?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Questions Asked By The Customers"}),Object(o.jsx)("h4",{color:"red",children:l}),Object(o.jsxs)("table",{border:"border",cellPadding:"12px",cellSpacing:"10px",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Date"}),Object(o.jsx)("th",{children:"Customer"}),Object(o.jsx)("th",{children:"Question"}),Object(o.jsx)("th",{children:"Comment"}),Object(o.jsx)("th",{children:"Modify"})]})}),Object(o.jsx)("tbody",{children:c.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.date}),Object(o.jsx)("td",{children:e.customer_id}),Object(o.jsx)("td",{children:e.question}),Object(o.jsx)("td",{children:e.comment}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{name:e.id,onKeyPress:O,type:"text"})})]},t)}))})]})]}):void 0}var P=c(8);function C(){var e=Object(n.useState)(),t=Object(i.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(1),j=Object(i.a)(s,2),l=j[0],a=j[1],b=Object(n.useState)(""),u=Object(i.a)(b,2),d=u[0],h=u[1],O=Object(n.useState)(""),x=Object(i.a)(O,2),f=x[0],p=x[1],m=Object(n.useRef)(),g=Object(n.useRef)(),v=Object(n.useRef)(),y=Object(n.useRef)(),S=Object(n.useRef)();Object(n.useEffect)((function(){var e=!0;return fetch("http://localhost:8080/customer/available").then((function(e){return e.json()})).then((function(t){e&&r(t)})).then((function(){return a(3)})).catch((function(e){a(2),console.log(e)})),function(){e=!1}}));var k=function(e){var t=e.target.name;p("...."),fetch("http://localhost:8080/admin/deletepolicy?policyid=".concat(t)).then((function(e){200===e.status?p("Operation Successfull"):p("Unsuccuessfull")})).catch((function(e){p("Error see console for more info"),console.log(e)}));var n=c.filter((function(e){return e.id!==t}));r(n)};return 1===l?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{children:"loading..."})}):2===l?Object(o.jsx)("p",{children:"There is error check console or try other operation"}):3===l?Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"All Policies"}),Object(o.jsx)("h4",{color:"red",children:f}),Object(o.jsxs)("table",{border:"border",cellPadding:"9px",cellSpacing:"5px",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Policy ID."}),Object(o.jsx)("th",{children:"Policy Name"}),Object(o.jsx)("th",{children:"Catagory"}),Object(o.jsx)("th",{children:"Premium"}),Object(o.jsx)("th",{children:"Tenure"}),Object(o.jsx)("th",{children:"Remove"})]})}),c.map((function(e,t){return Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.catagory}),Object(o.jsx)("td",{children:e.premium}),Object(o.jsx)("td",{children:e.tenure}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:k,name:e.id,children:"DELETE"})})]})},t)}))]}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("h2",{children:"Add Policy"}),Object(o.jsxs)("form",{children:[Object(o.jsx)("label",{children:"Policy Name:"})," ",Object(o.jsx)("input",{ref:m,type:"text"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Catagory:"})," ",Object(o.jsx)("input",{ref:g,type:"text"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Premium:"})," ",Object(o.jsx)("input",{ref:y,type:"number"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:"Tenure:"})," ",Object(o.jsx)("input",{ref:S,type:"number"}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("label",{children:d}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(e){e.preventDefault();var t=m.current.value,n=g.current.value,s=y.current.value,j=S.current.value;""!==t&&""!==n&&""!==s&&""!==j?(h("Adding...."),fetch("http://localhost:8080/admin/addpolicy",{method:"POST",body:JSON.stringify(t,n,s,j)}).then((function(e){200===e.status?h("Policy added"):h("unsuccussfull")})).catch((function(e){h("there is error check the console for more info"),console.log(e)})),r([].concat(Object(P.a)(c),[{id:-1,name:t,catagory:n,premium:s,tenure:j}])),m.current.value="",g.current.value="",v.current.value="",y.current.value="",S.current.value=""):h("one or more field are empty")},type:"submit",children:"Add"})]})]}):void 0}function A(e){var t=e.logoutHandler,c=Object(n.useState)(""),r=Object(i.a)(c,2),s=r[0],j=r[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Health Insurance Managment System Admin Board"}),Object(o.jsx)("h3",{children:"Admin"}),Object(o.jsx)("button",{onClick:function(){j("customers")},children:"Customers"}),Object(o.jsx)("button",{onClick:function(){j("policies")},children:"Policies"}),Object(o.jsx)("button",{onClick:function(){j("applied")},children:"Policies Applied For"}),Object(o.jsx)("button",{onClick:function(){j("catagory")},children:"Catagory"}),Object(o.jsx)("button",{onClick:function(){j("questions")},children:"Questions"}),Object(o.jsx)("button",{onClick:function(){t()},children:"Logout"}),""===s?Object(o.jsx)(o.Fragment,{}):"customers"===s?Object(o.jsx)(S,{}):"policies"===s?Object(o.jsx)(C,{}):"applied"===s?Object(o.jsx)(y,{}):"catagory"===s?Object(o.jsx)(p,{}):Object(o.jsx)(k,{})]})}var E=function(){var e=Object(n.useState)({changer:"home",customer:"",customerId:0}),t=Object(i.a)(e,2),c=t[0],r=t[1],s=function(){r({changer:"home",customerId:0,customer:""})};return"home"===c.changer?Object(o.jsx)(h,{data:r}):"admin"===c.changer?Object(o.jsx)(A,{logoutHandler:function(e){return s()}}):Object(o.jsx)(g,{dataleg:c,logoutHandler:function(e){return s()}})};j.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(E,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3c52c682.chunk.js.map